---
alwaysApply: true
---
# Navigation Patterns

## Architecture
- **Root Navigation**: [src/navigation/index.tsx](mdc:src/navigation/index.tsx) defines `HomeTabs` and `RootStack` via `createStaticNavigation`
- **React Navigation v7**: Uses static navigation pattern for better performance

## Screen Structure
### Tab Navigation (HomeTabs)
- **ChatList**: Main chat interface with newspaper icon
- **Logs**: DNS query logging with logs icon
- **About**: App information with info icon and settings header button

### Stack Navigation (RootStack)
- **HomeTabs**: Root tab navigator
- **Chat**: Individual chat conversation
- **Profile**: User profile with deep linking support
- **Settings**: Modal settings screen
- **NotFound**: 404 error handling

## Deep Linking
- **Scheme**: `dnschat://` configured in [src/App.tsx](mdc:src/App.tsx) and [app.json](mdc:app.json)
- **Profile Path**: `:user(@[a-zA-Z0-9-_]+)` with parse/stringify functions
- **Linking Config**: `enabled: 'auto'` with automatic prefix detection

## Adding New Screens
1. **Create Component**: Add under `src/navigation/screens/*`
2. **Register Screen**: Add to `screens` map in `HomeTabs` or `RootStack`
3. **Configure Options**: Provide `title`, `tabBarIcon`, `headerRight` as needed
4. **Keep Options Clean**: Avoid side-effects in options; use functions for dynamic values

## Icon Usage
- **Tab Icons**: [src/components/InfoIcon.tsx](mdc:src/components/InfoIcon.tsx), [src/components/icons/SettingsIcon.tsx](mdc:src/components/icons/SettingsIcon.tsx), [src/components/icons/LogsIcon.tsx](mdc:src/components/icons/LogsIcon.tsx)
- **Custom Icons**: Use SVG components from `src/components/icons/`
- **Image Assets**: Import from `src/assets/` for custom tab icons

## Navigation Patterns
- **Tab Switching**: Use `navigation.navigate('ScreenName')` for tab navigation
- **Stack Pushing**: Use `navigation.navigate('ScreenName')` for stack navigation
- **Modal Presentation**: Settings screen is presented modally
- **Deep Link Handling**: Profile screen supports URL-based navigation

## Do Not
- **Instantiate navigators** outside `src/navigation/index.tsx`
- **Bypass static navigation** pattern
- **Add navigation logic** in screen components
- **Create circular navigation** dependencies
- **Do not**
  - Instantiate navigators outside `src/navigation/index.tsx`
  - Bypass the static navigation pattern# Navigation Patterns

## Architecture
- **Root Navigation**: [src/navigation/index.tsx](mdc:src/navigation/index.tsx) defines `HomeTabs` and `RootStack` via `createStaticNavigation`
- **React Navigation v7**: Uses static navigation pattern for better performance

## Screen Structure
### Tab Navigation (HomeTabs)
- **ChatList**: Main chat interface with newspaper icon
- **Logs**: DNS query logging with logs icon
- **About**: App information with info icon and settings header button

### Stack Navigation (RootStack)
- **HomeTabs**: Root tab navigator
- **Chat**: Individual chat conversation
- **Profile**: User profile with deep linking support
- **Settings**: Modal settings screen
- **NotFound**: 404 error handling

## Deep Linking
- **Scheme**: `dnschat://` configured in [src/App.tsx](mdc:src/App.tsx) and [app.json](mdc:app.json)
- **Profile Path**: `:user(@[a-zA-Z0-9-_]+)` with parse/stringify functions
- **Linking Config**: `enabled: 'auto'` with automatic prefix detection

## Adding New Screens
1. **Create Component**: Add under `src/navigation/screens/*`
2. **Register Screen**: Add to `screens` map in `HomeTabs` or `RootStack`
3. **Configure Options**: Provide `title`, `tabBarIcon`, `headerRight` as needed
4. **Keep Options Clean**: Avoid side-effects in options; use functions for dynamic values

## Icon Usage
- **Tab Icons**: [src/components/InfoIcon.tsx](mdc:src/components/InfoIcon.tsx), [src/components/icons/SettingsIcon.tsx](mdc:src/components/icons/SettingsIcon.tsx), [src/components/icons/LogsIcon.tsx](mdc:src/components/icons/LogsIcon.tsx)
- **Custom Icons**: Use SVG components from `src/components/icons/`
- **Image Assets**: Import from `src/assets/` for custom tab icons

## Navigation Patterns
- **Tab Switching**: Use `navigation.navigate('ScreenName')` for tab navigation
- **Stack Pushing**: Use `navigation.navigate('ScreenName')` for stack navigation
- **Modal Presentation**: Settings screen is presented modally
- **Deep Link Handling**: Profile screen supports URL-based navigation

## Do Not
- **Instantiate navigators** outside `src/navigation/index.tsx`
- **Bypass static navigation** pattern
- **Add navigation logic** in screen components
- **Create circular navigation** dependencies
- **Do not**
  - Instantiate navigators outside `src/navigation/index.tsx`
  - Bypass the static navigation pattern